# Project 8 - Pentesting Live Targets

Time spent: 20+ hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: SQLI
 
 ![](https://github.com/shofi384/CSC.59938---Web-Security/blob/master/Week%238-Pentesting%20Live%20Targets/sqli.gif)
 - Story: This injection takes place by injecting sql code directly into the url. An attacker can inject SQL code into the Salesperson page via URL parameters by requesting salesperson.php?id=3' OR SLEEP(5)=0--' that will make the page irresponsive for five seconds which is not true for green site.

Vulnerability #2: Session Hijacking
 
 ![](https://github.com/shofi384/CSC.59938---Web-Security/blob/master/Week%238-Pentesting%20Live%20Targets/sessionHijacking.gif)
 - Story: In this vulnarability, a user can log in without a username or password by setting the current session ID to an old session ID from a previously logged in user. In this example, we steal the session ID by appending the codepath provided URL "public/hacktools/change_session_id.php". Also use the same approach to set this session ID for a new session without actually logging in to the system. 

## Green

Vulnerability #1: Username Enumeration 
 
 ![](https://github.com/shofi384/CSC.59938---Web-Security/blob/master/Week%238-Pentesting%20Live%20Targets/usernameEnumeration.gif)
 - Story: The vulnerabality is exposed through bolding the login fail message. While the red and blue sites doesnt say anything about a correct or incorrect username, the green site bolds the login fail message when the username is correct and normal text message otherwise.

Vulnerability #2: XSS
 
 ![](https://github.com/shofi384/CSC.59938---Web-Security/blob/master/Week%238-Pentesting%20Live%20Targets/xss.gif)
 - Story: This XSS is performed throug adding XSS code in feedback page. A visitor inputs the Javascripts code <script>alert('Mallory found the XSS!');</script> into the feedback form. When the user logs in, the XSS runs. 


## Red

Vulnerability #1: Insecure Direct Object Reference
 
 ![](https://github.com/shofi384/CSC.59938---Web-Security/blob/master/Week%238-Pentesting%20Live%20Targets/idor.gif)
 - Story: This vulnarability is exposed through manipulating the url's id value. An IDOR vulnerability exists in the red application, where a user can see any account that are not even available for public. We can use the public/salesperson.php?id=?? endpoint where ?? is the ID of the salesperson. In this example, the id 10 of "Testy McTesterson" is inserted who is not supposed to be shown in public until September. Thus guessing ID numbers until an publicly unavailable object is reached opens up door to attackers. The blue and green applications mitigate this by simply redirecting the user back to the list of salespeople with absolutely no feedback.

Vulnerability #2: Cross Site Request Forgery
 
 ![](https://github.com/shofi384/CSC.59938---Web-Security/blob/master/Week%238-Pentesting%20Live%20Targets/csrf.gif)
 - Story: This vulnarability provides a user the permissions to update information in the database via the edit pages without a valid CSRF token. This vulnarability is demonstrated through inspecting the page for user update and editting the token. 

##Bonus Vulnerability Challenge: SQLI
 
 ![](https://github.com/shofi384/CSC.59938---Web-Security/blob/master/Week%238-Pentesting%20Live%20Targets/bonusSQLI.gif)
 - Story: This injection takes place by injecting sql code directly into the url. The user can inject SQL code into the Salesperson page via URL parameters by requesting salesperson.php?id=?' OR '1=1' that will retrun always true. The site that is vulnarable to this injection, which is the blue, will show that the database query failed letting an attacker know that there is an exploit. 
